<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ArkMailer Log Viewer</title>
    <link rel="icon" href="favicon.jpg" type="image/x-icon">
    <link rel="stylesheet" href="log_viewer.css">
</head>
<body>

    <div id="header">
        <img id="logo" src="logo.png" alt="Bedrijfslogo">
        <h1>ArkMailer Log Viewer</h1>
    </div>

    <div id="controls">
        <button onclick="startSynchronization()" 
                id="runButton">
            ‚ñ∂Ô∏è Start Sync
        </button>
        
        <div id="refreshStatus">
            <span id="refreshTimer">Automatische herlading gestart...</span>
            <button onclick="stopAutoRefresh()" class="btnstoprefresh">Stop</button>
        </div>
        
        <label for="filterDate">Datum Kiezen:</label>
        <input type="date" id="filterDate" onchange="filterLogs()">
        
        <label for="filterLevel">Log Niveau:</label>
        <select id="filterLevel" onchange="filterLogs()">
            <option value="">Alles Weergeven</option>
            <option value="INFO">INFO</option>
            <option value="WARNING">WARNING</option>
            <option value="ERROR">ERROR</option>
            <option value="CRITICAL">CRITICAL</option>
        </select>
        
        <label for="search">Zoeken:</label>
        <input type="text" id="search" onkeyup="filterLogs()" placeholder="Zoek op foutmelding...">
        
        <p id="lineCount" >Totaal regels: 0</p>
        
        <button onclick="openModal()">‚öôÔ∏è Instellingen Aanpassen</button>

        <div id="configModal" class="modal">

            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                 <h2>‚öôÔ∏è Systeeminstellingen Bewerken</h2>

               <!-- <form method="POST" action="save_config.php">
                    <h3>‚öôÔ∏è Algemene Instellingen</h3>
                        <label for="PYTHON_EXECUTABLE">Python Exe Pad (.exe):</label>
                        <input type="text" name="PYTHON_EXECUTABLE" value="<?= getenv('PYTHON_EXECUTABLE') ?>" required><br>

                        <label for="PYTHON_SCRIPT_PATH">Sync Script Pad (.py):</label>
                        <input type="text" name="PYTHON_SCRIPT_PATH" value="<?= getenv('PYTHON_SCRIPT_PATH') ?>" required><br>
    
                        <label for="DOMAIN_NAME">Google Workspace Domein:</label>
                        <input type="text" name="DOMAIN_NAME" value="<?= getenv('DOMAIN_NAME') ?>" required><br>

    
                    <hr>
                    <h3>üîë WISA Credentials</h3>
                        <label for="USERNAME_ENV">WISA Gebruikersnaam:</label>
                        <input type="text" name="USERNAME_ENV" value="<?= getenv('USERNAME_ENV') ?>" required><br>
    
                        <label for="PASSWORD_ENV">WISA Wachtwoord:</label>
                        <input type="password" name="PASSWORD_ENV" placeholder="Alleen invullen bij wijziging"><br>
    
    
                    <hr>
                    <h3>üìß Gmail Rapportage Instellingen</h3>
                        <label for="SENDER_EMAIL_LOGIN">Afzender E-mail (Sync Account):</label>
                        <input type="email" name="SENDER_EMAIL_LOGIN" value="<?= getenv('SENDER_EMAIL_LOGIN') ?>" required><br>

                        <label for="RECEIVER_EMAIL">Ontvanger E-mail (Rapport):</label>
                        <input type="email" name="RECEIVER_EMAIL" value="<?= getenv('RECEIVER_EMAIL') ?>" required><br>

                        <label for="CREDENTIALS_MAIL">Gmail Credentials (JSON):</label>
                        <textarea name="CREDENTIALS_MAIL" rows="4" placeholder="Volledige, ge-escapede JSON string..."><?= getenv('CREDENTIALS_MAIL') ?></textarea><br>

                    <br>
                    <button type="submit">üíæ Instellingen Opslaan en Bijwerken</button>
                </form>-->
        </div>
</div>
    </div>

    <div id="logContainer">
        Laden van het logbestand...
    </div>

    <footer> 
        <img src="footer.png" alt="Bedrijfsfooter Afbeelding"> 
    </footer>
    
    <script src="log_viewer.js"></script>
    
</body>
</html>