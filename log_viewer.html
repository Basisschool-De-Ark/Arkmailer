<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ArkMailer Log Viewer</title>
    <link rel="icon" href="favicon.jpg" type="image/x-icon">
    <link rel="stylesheet" href="log_viewer.css">
</head>
<body>

    <div id="header">
        <img id="logo" src="logo.png" alt="Bedrijfslogo">
        <h1>ArkMailer Log Viewer</h1>
    </div>

    <div id="controls">
        <button onclick="startSynchronization()" 
                id="runButton">
            ▶️ Start Sync
        </button>
        
        <div id="refreshStatus">
            <span id="refreshTimer">Automatische herlading gestart...</span>
            <button onclick="stopAutoRefresh()" class="btnstoprefresh">Stop</button>
        </div>
        
        <label for="filterDate">Datum Kiezen:</label>
        <input type="date" id="filterDate" onchange="filterLogs()">
        
        <label for="filterLevel">Log Niveau:</label>
        <select id="filterLevel" onchange="filterLogs()">
            <option value="">Alles Weergeven</option>
            <option value="INFO">INFO</option>
            <option value="WARNING">WARNING</option>
            <option value="ERROR">ERROR</option>
            <option value="CRITICAL">CRITICAL</option>
        </select>
        
        <label for="search">Zoeken:</label>
        <input type="text" id="search" onkeyup="filterLogs()" placeholder="Zoek op foutmelding...">
        
        <p id="lineCount" >Totaal regels: 0</p>
        
        <button onclick="openModal()">⚙️ Instellingen Aanpassen</button>

        <div id="configModal" class="modal">

            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                 <h2>⚙️ Systeeminstellingen Bewerken</h2>

                <form method="POST" action="save_config.php">
                    <label for="PYTHON_EXECUTABLE">Python Exe Pad:</label>
                    <input type="text" name="PYTHON_EXECUTABLE" value="" placeholder="<?= getenv('PYTHON_EXECUTABLE') ?? 'Pad niet gevonden' ?>"><br>
            
                    <button type="submit">Instellingen Opslaan</button>
                </form>
        </div>
</div>
    </div>

    <div id="logContainer">
        Laden van het logbestand...
    </div>

    <footer> 
        <img src="footer.png" alt="Bedrijfsfooter Afbeelding"> 
    </footer>
    
    <script src="log_viewer.js"></script>
    
</body>
</html>